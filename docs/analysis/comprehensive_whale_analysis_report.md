# 🐋 비트코인 웨일 거래 분석 종합 보고서

## 📋 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [데이터 분석 결과](#데이터-분석-결과)
3. [시장 영향도 분석](#시장-영향도-분석)
4. [현실적 분석의 한계](#현실적-분석의-한계)
5. [고래 분류 체계 개발](#고래-분류-체계-개발)
6. [다중클래스 분류 모델 제안](#다중클래스-분류-모델-제안)
7. [최종 결론 및 권고사항](#최종-결론-및-권고사항)

---

## 🎯 프로젝트 개요

### 📊 **분석 대상**

- **데이터셋**: 1000 BTC 이상 대량 거래 데이터
- **총 거래 건수**: 888,942건
- **분석 기간**: 2009년 1월 ~ 2025년 6월
- **목표**: 암호화폐 시장에서 고래를 탐지하여 실시간 인사이트 제공

### 🎯 **프로젝트 목표**

1. **고래 탐지 ML 모델** 개발
2. **실시간 인사이트** 제공 시스템 구축
3. **API + 웹 플랫폼** 개발
4. **투자자에게 실용적 정보** 제공

---

## 📊 데이터 분석 결과

### 🔍 **기본 통계**

| 항목                 | 수치        |
| -------------------- | ----------- |
| **총 거래 건수**     | 888,942건   |
| **평균 거래량**      | 4,818 BTC   |
| **중앙값 거래량**    | 2,174 BTC   |
| **최대 거래량**      | 550,000 BTC |
| **평균 Input 개수**  | 4.7개       |
| **평균 Output 개수** | 6.4개       |

### 📈 **패턴 분석 결과**

#### **시간대별 특성**

- **새벽 거래 (2-5시)**: 135,292건 (15.2%)
- **가장 활발한 시간**: 16시 (5.2%)
- **주말 거래 감소**: 토요일 11.8%, 일요일 11.9%

#### **수수료 패턴**

- **극저 수수료 거래**: 808,440건 (90.9%)
- **상위 10% 수수료**: 88,894건
- **평균 수수료**: 155,045 satoshi

#### **집중도 분석**

- **100% 집중 거래**: 60,239건 (6.8%)
- **평균 집중도**: 0.957
- **높은 집중도 (>0.99)**: 687,389건 (77.3%)

---

## 🌊 시장 영향도 분석

### ❓ **핵심 질문**: "개인 간 단순 송금도 시장에 영향을 미치나?"

### 📊 **분석 결과**

| 거래 유형           | 건수      | 비율  | 설명                       |
| ------------------- | --------- | ----- | -------------------------- |
| **단순 개인 송금**  | 1,769건   | 0.2%  | 실제 개인 간 송금으로 추정 |
| **거래소 관련**     | 653,377건 | 73.5% | 거래소 패턴과 유사         |
| **의심스러운 분산** | 33,796건  | 3.8%  | 늦은 밤 대량 분산 거래     |
| **기타 패턴**       | 200,000건 | 22.5% | 분류 불가 패턴             |

### 💡 **핵심 발견**

```
🚨 충격적 사실:
• 단순 개인 송금: 단 0.2%
• 시장 영향 가능 거래: 74.5%
• 거래량 기준 시장 영향도: 88.7%

→ 1000 BTC 이상 거래 대부분이 시장에 영향을 미칠 가능성
```

### 🎯 **시장 영향도 점수**

- **고영향 (90-100점)**: 32,154건 (3.6%)
- **중영향 (50-89점)**: 625,789건 (70.4%)
- **저영향 (0-49점)**: 230,999건 (26.0%)

---

## 🚨 현실적 분석의 한계

### ❌ **할 수 없는 것들**

1. **거래 주체 식별 불가**
   - 개인/기관/거래소 구분 불가
   - 주소 정보 부족
2. **실제 시장 영향 확정 불가**
   - 거래 목적 불명
   - 매도/매수 구분 불가
3. **"시장에 영향을 미치는 고래" 단정 불가**
   - 내부 이동일 가능성
   - OTC 거래일 가능성

### ✅ **할 수 있는 것들**

1. **통계적 이상 패턴 감지**
2. **거래 유형별 클러스터링**
3. **시간대별 패턴 분석**
4. **LSTM 기반 시계열 이상 감지**
5. **리스크 스코어링 시스템**

### 💡 **결론**

> **"시장 영향 고래" 대신 "통계적 이상 거래 패턴"을 탐지하는 것이 현실적**

---

## 🐋 고래 분류 체계 개발

### 📋 **원래 제안 분류**

| 분류              | 조건                           | 결과                   | 문제점        |
| ----------------- | ------------------------------ | ---------------------- | ------------- |
| **단일 수신형**   | Input > 10개 AND Output = 1개  | 8,649건 (0.97%)        | 너무 적음     |
| **분산 전송형**   | Output > 20개                  | 39,089건 (4.40%)       | 괜찮음        |
| **잔돈 합치기형** | Input > 100개 AND Output ≤ 5개 | 5,576건 (0.63%)        | 너무 적음     |
| **빠른 전송형**   | 상위 10% 수수료                | 88,894건 (10.00%)      | 괜찮음        |
| **세탁/위장형**   | max_output_value = 0           | 0건 (0.00%)            | 존재하지 않음 |
| **전체 커버리지** |                                | **108,133건 (12.16%)** | **너무 낮음** |

### 🔄 **개선된 분류 체계**

| 분류              | 조건                               | 예상 결과            | 장점          |
| ----------------- | ---------------------------------- | -------------------- | ------------- |
| **수집형 고래**   | Input > 상위 20% AND Output ≤ 2개  | ~150,000건 (17%)     | 충분한 샘플   |
| **분산형 고래**   | Output > 상위 15% AND 집중도 < 0.8 | ~130,000건 (15%)     | 균형잡힌 분포 |
| **급행형 고래**   | Fee > 상위 5%                      | 44,448건 (5%)        | 엄격한 기준   |
| **집중형 고래**   | 집중도 > 0.99 AND 거래량 > 중앙값  | ~340,000건 (38%)     | 대표적 패턴   |
| **거대형 고래**   | 거래량 > 상위 1%                   | 8,890건 (1%)         | 극단적 케이스 |
| **전체 커버리지** |                                    | **~760,000건 (85%)** | **대폭 개선** |

### 🎯 **개선 효과**

- **커버리지**: 12% → 85% (**7배 향상**)
- **클래스 균형**: 극심한 불균형 → 양호한 분포
- **머신러닝 적합성**: 불충분 → 충분한 학습 데이터

---

## 🤖 다중클래스 분류 모델 제안

### 🎯 **모델 아키텍처**

```python
# 권장 모델: Random Forest 또는 XGBoost
features = [
    'input_count',           # 입력 개수
    'output_count',          # 출력 개수
    'total_output_value',    # 총 거래량
    'max_output_ratio',      # 집중도
    'fee_per_max_ratio',     # 수수료 비율
    'hour',                  # 시간대
    'weekday'                # 요일
]

target_classes = [
    0: '수집형 고래',    # Collector Whale
    1: '분산형 고래',    # Distributor Whale
    2: '급행형 고래',    # Express Whale
    3: '집중형 고래',    # Concentrated Whale
    4: '거대형 고래'     # Giant Whale
]
```

### 📊 **예상 성능**

- **정확도**: 85-90% (균형잡힌 데이터로 인해)
- **F1-Score**: 클래스별 0.8 이상
- **실시간 추론**: < 100ms

### 🚀 **실시간 인사이트 예시**

```
🔵 수집형 고래 감지: "대량 자금 집중! 여러 소스에서 1,500 BTC 수집"
🟠 분산형 고래 감지: "자금 분산 패턴! 2,000 BTC를 15개 주소로 분산"
🔴 급행형 고래 감지: "긴급 거래! 상위 2% 수수료로 3,000 BTC 이동"
🟡 집중형 고래 감지: "고집중 거래! 99.8% 집중도로 5,000 BTC 이동"
🟣 거대형 고래 감지: "초대형 거래! 50,000 BTC 움직임 포착"
```

---

## 🎯 최종 결론 및 권고사항

### 💡 **핵심 통찰**

#### 1. **데이터 현실 인정**

- 현재 데이터로는 "진짜 시장 영향 고래" 확정 불가
- 하지만 **의미 있는 패턴 분석**은 충분히 가능
- **통계적 이상치 탐지**가 현실적 목표

#### 2. **분류 체계 최적화**

- 원래 아이디어는 훌륭하나 **데이터 분포에 맞게 조정** 필요
- **커버리지 85%** 달성으로 실용성 확보
- **균형잡힌 클래스 분포**로 ML 모델 성능 최적화

#### 3. **비즈니스 가치**

- **실시간 이상 패턴 감지** 시스템 구축 가능
- **투자자에게 조기 경고** 서비스 제공
- **패턴 기반 리스크 스코어링** 구현

### 🚀 **구현 로드맵**

#### **Phase 1: 분류 모델 개발 (2주)**

- 개선된 5클래스 분류 기준 적용
- Random Forest/XGBoost 모델 학습
- 성능 검증 및 튜닝

#### **Phase 2: API 개발 (3주)**

- FastAPI 기반 실시간 분류 API
- 웹소켓 실시간 알림 시스템
- 대시보드 UI 개발

#### **Phase 3: 프로덕션 배포 (2주)**

- 클라우드 인프라 구축
- 모니터링 시스템 구축
- 베타 테스트 및 피드백 수집

### 🎯 **투자자에게 제공할 가치**

#### ✅ **제공 가능한 인사이트**

```
🚨 "현재 비정상적인 대량 거래 패턴이 감지되었습니다"
📊 "지난 1시간 대비 300% 증가한 고래 활동"
⚡ "과거 유사 패턴 후 평균 4시간 내 변동성 증가"
🎯 "현재 시장 이상 패턴 점수: 85/100 (매우 높음)"
```

#### ❌ **제공 불가능한 것들**

- "○○ 고래가 매도할 예정입니다"
- "가격이 떨어질 것입니다"
- "이 거래는 거래소 내부 이동입니다"

### 📈 **예상 효과**

#### **단기 효과**

- 대량 거래 패턴 **85% 이상** 실시간 감지
- 투자자에게 **조기 경고** 서비스 제공
- 시장 변동성 증가 **사전 알림** 가능

#### **장기 효과**

- 암호화폐 시장 **투명성 증대**
- 개인 투자자 **정보 격차 해소**
- **데이터 기반 투자 의사결정** 지원

### 🎊 **최종 메시지**

> **완벽한 "시장 영향 고래" 식별은 불가능하지만, 통계적으로 의미 있는 이상 패턴을 탐지하여 투자자에게 실용적인 조기 경고 서비스를 제공할 수 있습니다.**

이는 **현재 데이터의 한계를 인정하면서도, 실현 가능한 가치를 창출하는 현실적인 접근법**입니다.

---

**이 보고서는 888,942건의 실제 비트코인 거래 데이터를 기반으로 작성되었습니다.** 🐋
